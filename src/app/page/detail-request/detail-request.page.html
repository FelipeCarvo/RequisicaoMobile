<ion-header >
  <ion-toolbar lines="none">
    <ion-icon src="../../assets/icon/arrow.svg" class="ion-padding"slot="start" (click)="dismiss()"></ion-icon>  
    <ion-title class="ion-text-center">
      Detalhe Requisição
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <app-spinner [showSpinner]="!load" *ngIf="!load"></app-spinner>
  <form id="requestForm"  [@hideShowAnimator]="load">
    <ion-row class="ion-justify-content-center corpo" *ngIf="load">
      <ion-col size=11>
        <div class="statusDiv">
          <p>STATUS: <span>{{reqItem.statusDescricao}}</span></p>
        </div>
      </ion-col>
      <ion-col size="11">
        <ion-row>
          <ion-col size="6">
            <ion-item>
              <ion-label position="stacked">Nº Requisição</ion-label>
              <p>154</p>
            </ion-item>
          </ion-col>
          <ion-col  size="6">
            <ion-item>
              <ion-label position="stacked">Data:</ion-label>
              <p>{{reqItem.dataHora}}</p>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-item>
          <ion-label position="stacked">Empreendimento:</ion-label>
          <p>{{reqItem.empreendimento.descricao}}</p>
        </ion-item>        
        <ion-row *ngFor="let item of reqItem.itens">
          <ion-col size="12">
            <ion-item>
              <ion-label position="stacked">Insumo:</ion-label>
              <p>{{item.insumo.descricao}}</p>
            </ion-item>
          </ion-col>
          
          <ion-col size="8">
            <ion-item>
              <ion-label position="stacked">Quantidade</ion-label>
              <p>{{item.quantidade}}</p>
            </ion-item>
          </ion-col>
          <ion-col  size="4">
            <ion-item>
              <ion-label position="stacked">Unidade</ion-label>
              <p>{{item.insumo.unidade}}</p>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-item>
          <ion-label position="stacked">Solicitante:</ion-label>
          <p>{{reqItem.solicitante}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Numero OF:</ion-label>
          <p>{{!!reqItem.ofCodigo ? reqItem.ofCodigo : 'Não possue Numero OF'}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Aprovador:</ion-label>
          <p>{{!!reqItem.aprovadoPorUsuario ? reqItem.aprovadoPorUsuario : 'Aprovação pendente'}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Observações:</ion-label>
          <p>{{reqItem.observacao}}</p>
        </ion-item>
        <ion-row class="ion-justify-content-center">
          <ion-col size="6">
            <ion-button class="btnRedondo btnVoltar" (click)="dismiss()" type="submit" expand="block"><ion-ripple-effect type="unbounded"></ion-ripple-effect>Voltar</ion-button>
          </ion-col> 
        </ion-row>
      </ion-col>   
    </ion-row>
  </form>
</ion-content>
